{% extends 'base.html' %}
{% block title %}Signup{% endblock %}
{% block content %}<br/><br/>
	<div class="shadow p-3 mb-5 bg-body rounded">
		<center><h1>Sign Up</h1></center>
		{% if form.errors %}
	        {% for field in form %}
	            {% for error in field.errors %}
	                <div class="alert alert-danger alert-dismissible fade show" role="alert">
					  {{ error|escape }}<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
	            {% endfor %}
	        {% endfor %}
	    {% endif %}
		<form action="." method="POST">
			{% csrf_token %}
			<div class="form-floating mb-3">
			  <input type="text" class="form-control" id="id_username" placeholder="Username" name="username" maxlength="150">
			  <label for="id_username">Username</label>
			</div>
			<div class="form-floating mb-3">
			  <input type="text" class="form-control" id="id_username" placeholder="Email Address" name="email">
			  <label for="id_username">Email Address</label>
			</div>
			<div class="form-floating">
			  <input type="password" class="form-control" id="id_password1" name='password1' placeholder="Password">
			  <label for="id_password1">Password</label>
			</div><br/>
			<div class="form-floating">
			  <input type="password" class="form-control" id="id_password2" name='password2' placeholder="Repeat Password">
			  <label for="id_password2">Repeat Password</label>
			</div><br/>
			<input onclick="showPassword()" type="checkbox" value="">
    <label>Show Password</label>
			<br/>
			Already have an account?<a href="/user/login">Login</a><br/><br/>
			<div class="row"><button class="btn btn-success">Signup</button></div>
		</form>
	</div>
{% endblock %}
{% block scripts %}
<script>
    function showPassword(){
        var p1 = document.getElementById('id_password1');
        var p2 = document.getElementById('id_password2');
        if (p1.type === 'password' && p2.type === 'password'){
            p1.type = 'text';
            p2.type = 'text';
        }else{
            p1.type = 'password';
            p2.type = 'password';
        }
    }
</script>
{% endblock %}